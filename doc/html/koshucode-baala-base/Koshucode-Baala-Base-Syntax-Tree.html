<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Koshucode.Baala.Base.Syntax.Tree</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Koshucode-Baala-Base-Syntax-Tree.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Koshucode-Baala-Base-Syntax-Tree.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">koshucode-baala-base-0.17.0.0: A notational system for relational data</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Koshucode.Baala.Base.Syntax.Tree</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Data type
</a></li><li><a href="#g:2">Parsing
</a></li><li><a href="#g:3">Paren table
</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Tree">Tree</a> a<ul class="subs"><li>= <a href="#v:TreeL">TreeL</a> a  </li><li>| <a href="#v:TreeB">TreeB</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> [<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a]  </li></ul></li><li class="src short"><a href="#v:tree">tree</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> a =&gt; <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:ParenType">ParenType</a> a -&gt; [a] -&gt; <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a</li><li class="src short"><a href="#v:trees">trees</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> a =&gt; <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:ParenType">ParenType</a> a -&gt; [a] -&gt; [<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a]</li><li class="src short"><a href="#v:untree">untree</a> ::  <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:TypeParen">TypeParen</a> a -&gt; <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a -&gt; [a]</li><li class="src short"><a href="#v:untrees">untrees</a> ::  <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:TypeParen">TypeParen</a> a -&gt; [<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a] -&gt; [a]</li><li class="src short"><a href="#v:undouble">undouble</a> ::  <a href="Koshucode-Baala-Base-Prelude-Utility.html#t:Map">Map</a> (<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:ParenType">ParenType</a> a = a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:TypeParen">TypeParen</a> a = <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; (a, a)</li><li class="src short"><a href="#v:parenTable">parenTable</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Eq.html#t:Eq">Eq</a> a =&gt; [(<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a>, a, a)] -&gt; (<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:ParenType">ParenType</a> a, <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:TypeParen">TypeParen</a> a)</li></ul></div><div id="interface"><h1 id="g:1">Data type
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Tree" class="def">Tree</a> a <a href="src/Koshucode-Baala-Base-Syntax-Tree.html#Tree" class="link">Source</a></p><div class="doc"><p>Tree of leaf and branch
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:TreeL" class="def">TreeL</a> a</td><td class="doc"><p>Leaf. Terminal of tree.
</p></td></tr><tr><td class="src"><a name="v:TreeB" class="def">TreeB</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> [<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a]</td><td class="doc"><p>Branch. Paren-type and subtrees.
</p></td></tr></table></div><div class="subs instances"><p id="control.i:Tree" class="caption collapser" onclick="toggleSection('i:Tree')">Instances</p><div id="section.i:Tree" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Monad.html#t:Functor">Functor</a> <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Eq.html#t:Eq">Eq</a> (<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Data.html#t:Data">Data</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Data.html#t:Data">Data</a> (<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> (<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Parsing
</h1><div class="top"><p class="src"><a name="v:tree" class="def">tree</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> a =&gt; <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:ParenType">ParenType</a> a -&gt; [a] -&gt; <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a<a href="src/Koshucode-Baala-Base-Syntax-Tree.html#tree" class="link">Source</a></p><div class="doc"><p>Convert a list of elements to a single tree. 
</p></div></div><div class="top"><p class="src"><a name="v:trees" class="def">trees</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> a =&gt; <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:ParenType">ParenType</a> a -&gt; [a] -&gt; [<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a]<a href="src/Koshucode-Baala-Base-Syntax-Tree.html#trees" class="link">Source</a></p><div class="doc"><p>Convert a list of elements to trees. 
</p></div></div><div class="top"><p class="src"><a name="v:untree" class="def">untree</a> ::  <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:TypeParen">TypeParen</a> a -&gt; <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a -&gt; [a]<a href="src/Koshucode-Baala-Base-Syntax-Tree.html#untree" class="link">Source</a></p><div class="doc"><p>Convert tree to list of tokens. 
</p></div></div><div class="top"><p class="src"><a name="v:untrees" class="def">untrees</a> ::  <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:TypeParen">TypeParen</a> a -&gt; [<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a] -&gt; [a]<a href="src/Koshucode-Baala-Base-Syntax-Tree.html#untrees" class="link">Source</a></p><div class="doc"><p>Convert tree to list of tokens. 
</p></div></div><div class="top"><p class="src"><a name="v:undouble" class="def">undouble</a> ::  <a href="Koshucode-Baala-Base-Prelude-Utility.html#t:Map">Map</a> (<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:Tree">Tree</a> a)<a href="src/Koshucode-Baala-Base-Syntax-Tree.html#undouble" class="link">Source</a></p><div class="doc"><p>Simplify tree by removing double parens,
    like <code>((a))</code> to <code>(a)</code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>undouble $ TreeB 0 [Tree 0 [TreeL &quot;A&quot;, TreeL &quot;B&quot;]]
</code></strong>Tree 0 [TreeL &quot;A&quot;, TreeL &quot;B&quot;]
</pre></div></div><h1 id="g:3">Paren table
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ParenType" class="def">ParenType</a> a = a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a><a href="src/Koshucode-Baala-Base-Syntax-Tree.html#ParenType" class="link">Source</a></p><div class="doc"><p>Get a paren type. 
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:TypeParen" class="def">TypeParen</a> a = <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; (a, a)<a href="src/Koshucode-Baala-Base-Syntax-Tree.html#TypeParen" class="link">Source</a></p><div class="doc"><p>Get parens from a type. 
</p></div></div><div class="top"><p class="src"><a name="v:parenTable" class="def">parenTable</a><a href="src/Koshucode-Baala-Base-Syntax-Tree.html#parenTable" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Eq.html#t:Eq">Eq</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [(<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a>, a, a)]</td><td class="doc"><p>List of (<em>type</em>, <em>opne</em>, <em>close</em>)
</p></td></tr><tr><td class="src">-&gt; (<a href="Koshucode-Baala-Base-Syntax-Tree.html#t:ParenType">ParenType</a> a, <a href="Koshucode-Baala-Base-Syntax-Tree.html#t:TypeParen">TypeParen</a> a)</td><td class="doc"><p>Paren functions.
</p></td></tr></table></div><div class="doc"><p>Make <code><a href="Koshucode-Baala-Base-Syntax-Tree.html#t:ParenType">ParenType</a></code> and <code><a href="Koshucode-Baala-Base-Syntax-Tree.html#t:TypeParen">TypeParen</a></code> functions
    from a type-open-close table.
</p><p>Make paren/type functions from <code>()</code> and <code>[]</code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (pt, tp) = parenTable [(1,'(',')'), (2,'[',']')]
</code></strong></pre><p>Get paren types for each chars.
    Types of open parens are positive integer,
    and closes are negative.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>map pt &quot;ab(cd[ef])g&quot;
</code></strong>[0,0,1,0,0,2,0,0,-2,-1,0]
</pre><p>Get an open-close pair of parens from its type.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>tp 2
</code></strong>('[', ']')
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.11.0</p></div></body></html>