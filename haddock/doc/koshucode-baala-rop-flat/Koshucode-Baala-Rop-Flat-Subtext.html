<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"
     /><title
    >Koshucode.Baala.Rop.Flat.Subtext</title
    ><link href="ocean2.css" rel="stylesheet" type="text/css" title="ocean2"
     /><script src="haddock-util.js" type="text/javascript"
    ></script
    ><script type="text/javascript"
    >//<![CDATA[
function showSource (href) { window.parent.Haddock.showSource('rop-flat', 'koshucode-baala-rop-flat', href); }
window.onload = function () {pageLoad();setSynopsis("mini_Koshucode-Baala-Rop-Flat-Subtext.html");};
//]]>
</script
    ></head
  ><body
  ><div id="package-header"
    ><ul class="links" id="page-menu"
      ><li
	><a onclick="showSource('src/Koshucode-Baala-Rop-Flat-Subtext.html');" href="javascript:void(0);"
	  >Source</a
	  ></li
	><li
	><a href="index.html"
	  >Contents</a
	  ></li
	><li
	><a href="doc-index.html"
	  >Index</a
	  ></li
	></ul
      ><p class="caption"
      >koshucode-baala-rop-flat-0.170.0.0: Relation-mapping operators in Koshucode</p
      ></div
    ><div id="content"
    ><div id="module-header"
      ><table class="info"
	><tr
	  ><th
	    >Safe Haskell</th
	    ><td
	    >None</td
	    ></tr
	  ><tr
	  ><th
	    >Language</th
	    ><td
	    >Haskell98</td
	    ></tr
	  ></table
	><p class="caption"
	>Koshucode.Baala.Rop.Flat.Subtext</p
	></div
      ><div id="table-of-contents"
      ><p class="caption"
	>Contents</p
	><ul
	><li
	  ><a href="#g:1"
	    >Relmap</a
	    ></li
	  ><li
	  ><a href="#g:2"
	    >Subtext</a
	    ></li
	  ></ul
	></div
      ><div id="description"
      ><p class="caption"
	>Description</p
	><div class="doc"
	><p
	  >Text decomposition by subtext.</p
	  ></div
	></div
      ><div id="synopsis"
      ><p id="control.syn" class="caption expander" onclick="toggleSection('syn')"
	>Synopsis</p
	><ul id="section.syn" class="hide" onclick="toggleSection('syn')"
	><li class="src short"
	  ><span class="keyword"
	    >type</span
	    > <a href="#t:SubtextPara"
	    >SubtextPara</a
	    > = (<a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-syntax/Koshucode-Baala-Syntax-Symbol-Term.html#t:TermName"
	    >TermName</a
	    >, [<a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-subtext/Koshucode-Baala-Subtext-Bundle.html#t:NameDepth"
	    >NameDepth</a
	    >], <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-subtext/Koshucode-Baala-Subtext-Match.html#t:CharMatch"
	    >CharMatch</a
	    >, <a href="http://hackage.haskell.org/package/base/docs/Data-Bool.html#t:Bool"
	    >Bool</a
	    >)</li
	  ><li class="src short"
	  ><a href="#v:consSubtext"
	    >consSubtext</a
	    > :: <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-data/Koshucode-Baala-Data-Class-Content.html#t:CContent"
	    >CContent</a
	    > c =&gt; <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-core/Koshucode-Baala-Core-Resource-Resource.html#t:RopCons"
	    >RopCons</a
	    > c</li
	  ><li class="src short"
	  ><a href="#v:relmapSubtext"
	    >relmapSubtext</a
	    > :: <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-data/Koshucode-Baala-Data-Class-Content.html#t:CContent"
	    >CContent</a
	    > c =&gt; <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-core/Koshucode-Baala-Core-Resource-Resource.html#t:Intmed"
	    >Intmed</a
	    > c -&gt; <a href="Koshucode-Baala-Rop-Flat-Subtext.html#t:SubtextPara"
	    >SubtextPara</a
	    > -&gt; <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-core/Koshucode-Baala-Core-Resource-Resource.html#t:Relmap"
	    >Relmap</a
	    > c</li
	  ><li class="src short"
	  ><a href="#v:relkitSubtext"
	    >relkitSubtext</a
	    > :: <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-data/Koshucode-Baala-Data-Class-Content.html#t:CContent"
	    >CContent</a
	    > c =&gt; <a href="Koshucode-Baala-Rop-Flat-Subtext.html#t:SubtextPara"
	    >SubtextPara</a
	    > -&gt; <a href="http://hackage.haskell.org/package/base/docs/Data-Maybe.html#t:Maybe"
	    >Maybe</a
	    > <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-data/Koshucode-Baala-Data-Type-Rel-Head.html#t:Head"
	    >Head</a
	    > -&gt; <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-base/Koshucode-Baala-Base-Abort-Reason.html#t:Ab"
	    >Ab</a
	    > (<a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-core/Koshucode-Baala-Core-Relkit-Relkit.html#t:Relkit"
	    >Relkit</a
	    > c)</li
	  ></ul
	></div
      ><div id="interface"
      ><h1 id="g:1"
	>Relmap</h1
	><div class="top"
	><p class="src"
	  ><span class="keyword"
	    >type</span
	    > <a name="t:SubtextPara" class="def"
	    >SubtextPara</a
	    > = (<a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-syntax/Koshucode-Baala-Syntax-Symbol-Term.html#t:TermName"
	    >TermName</a
	    >, [<a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-subtext/Koshucode-Baala-Subtext-Bundle.html#t:NameDepth"
	    >NameDepth</a
	    >], <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-subtext/Koshucode-Baala-Subtext-Match.html#t:CharMatch"
	    >CharMatch</a
	    >, <a href="http://hackage.haskell.org/package/base/docs/Data-Bool.html#t:Bool"
	    >Bool</a
	    >) <a onclick="showSource('src/Koshucode-Baala-Rop-Flat-Subtext.html#SubtextPara');" href="javascript:void(0);" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Type of subtext parameters.</p
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a name="v:consSubtext" class="def"
	    >consSubtext</a
	    > :: <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-data/Koshucode-Baala-Data-Class-Content.html#t:CContent"
	    >CContent</a
	    > c =&gt; <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-core/Koshucode-Baala-Core-Resource-Resource.html#t:RopCons"
	    >RopCons</a
	    > c <a onclick="showSource('src/Koshucode-Baala-Rop-Flat-Subtext.html#consSubtext');" href="javascript:void(0);" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    ><strong
	      >subtext /P E</strong
	      ></p
	    ><p
	    >Construct <code
	      >subtext</code
	      > relmap.
   Decompose text content of /P
   by matcing with subtext expression E.
   Terms contained in E are added to output relation.
   Expression E is either single or bundle:</p
	    ><dl
	    ><dt
	      >( E1 )</dt
	      ><dd
	      >Decompose text by single expression E.</dd
	      ><dt
	      >{ N1 = E1 | N2 = E2 | ... }</dt
	      ><dd
	      >Decompose text by bundle of named expressions.
     Text decomposition starts from N1.</dd
	      ></dl
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a name="v:relmapSubtext" class="def"
	    >relmapSubtext</a
	    > :: <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-data/Koshucode-Baala-Data-Class-Content.html#t:CContent"
	    >CContent</a
	    > c =&gt; <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-core/Koshucode-Baala-Core-Resource-Resource.html#t:Intmed"
	    >Intmed</a
	    > c -&gt; <a href="Koshucode-Baala-Rop-Flat-Subtext.html#t:SubtextPara"
	    >SubtextPara</a
	    > -&gt; <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-core/Koshucode-Baala-Core-Resource-Resource.html#t:Relmap"
	    >Relmap</a
	    > c <a onclick="showSource('src/Koshucode-Baala-Rop-Flat-Subtext.html#relmapSubtext');" href="javascript:void(0);" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Create <code
	      >subtext</code
	      > relmap.</p
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a name="v:relkitSubtext" class="def"
	    >relkitSubtext</a
	    > :: <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-data/Koshucode-Baala-Data-Class-Content.html#t:CContent"
	    >CContent</a
	    > c =&gt; <a href="Koshucode-Baala-Rop-Flat-Subtext.html#t:SubtextPara"
	    >SubtextPara</a
	    > -&gt; <a href="http://hackage.haskell.org/package/base/docs/Data-Maybe.html#t:Maybe"
	    >Maybe</a
	    > <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-data/Koshucode-Baala-Data-Type-Rel-Head.html#t:Head"
	    >Head</a
	    > -&gt; <a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-base/Koshucode-Baala-Base-Abort-Reason.html#t:Ab"
	    >Ab</a
	    > (<a href="http://seinokatsuhiro.github.io/koshucode/haddock/doc/koshucode-baala-core/Koshucode-Baala-Core-Relkit-Relkit.html#t:Relkit"
	    >Relkit</a
	    > c) <a onclick="showSource('src/Koshucode-Baala-Rop-Flat-Subtext.html#relkitSubtext');" href="javascript:void(0);" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Create <code
	      >subtext</code
	      > relkit.</p
	    ></div
	  ></div
	><h1 id="g:2"
	>Subtext</h1
	><div class="doc"
	><p
	  >Subtext is a domain-specific language for text decomposition.
   The <code
	    >subtext</code
	    > relmap operator provides the functionality of this language.
   In the following descrition, we use a symbol
   <em
	    >E</em
	    > for subtext expression,
   /<em
	    >P</em
	    > for present term name,
   /<em
	    >N</em
	    > for new term name,
   <em
	    >N</em
	    > for symbolic name,
   <em
	    >T</em
	    > for text,
   <em
	    >C</em
	    > for character (single-letter text).</p
	  ><h2
	  >Relmap operator</h2
	  ><p
	  >The <code
	    >subtext</code
	    > operator decompose text using subtext expression.
   There are two ways for describing expression: single or bundle.</p
	  ><dl
	  ><dt
	    > subtext /P ( E ) </dt
	    ><dd
	    >Decompose text content of <em
	      >/P</em
	      > by single expression <em
	      >E</em
	      >.</dd
	    ><dt
	    > subtext /P { N1 = E1 | N2 = E2 | ... } </dt
	    ><dd
	    >Decompose text by bundle of named expressions.
     Text decomposition starts from <em
	      >N1</em
	      >.</dd
	    ></dl
	  ><h2
	  >Basic pattern</h2
	  ><dl
	  ><dt
	    > ? </dt
	    ><dd
	    >Any character.</dd
	    ><dt
	    > ?? </dt
	    ><dd
	    >Context-dependent pattern.</dd
	    ><dt
	    > begin </dt
	    ><dd
	    >Beginning of text.</dd
	    ><dt
	    > end </dt
	    ><dd
	    >End of text.</dd
	    ><dt
	    > ( E ) </dt
	    ><dd
	    >Group expression <em
	      >E</em
	      >.</dd
	    ></dl
	  ><h2
	  >Gathering subtext</h2
	  ><dl
	  ><dt
	    > /N E </dt
	    ><dd
	    >Submatch for <em
	      >E</em
	      > whose name is <em
	      >/N</em
	      >.</dd
	    ><dt
	    > /N </dt
	    ><dd
	    >Named submatch, equivalent to <em
	      >/N</em
	      > ??.</dd
	    ><dt
	    > off E </dt
	    ><dd
	    >Turn off gathering text in <em
	      >E</em
	      >.</dd
	    ><dt
	    > on E </dt
	    ><dd
	    >Turn on gathering text in <em
	      >E</em
	      >.</dd
	    ></dl
	  ><h2
	  >Text</h2
	  ><dl
	  ><dt
	    > T </dt
	    ><dd
	    >Text literal as <em
	      >T</em
	      >.</dd
	    ><dt
	    > char T </dt
	    ><dd
	    >Alternative occurences of characters included in <em
	      >T</em
	      >.</dd
	    ><dt
	    > word T </dt
	    ><dd
	    >Alternative occurences of words included in <em
	      >T</em
	      >.</dd
	    ><dt
	    > cat T ... </dt
	    ><dd
	    >Characters in the Unicode general categories,
     <em
	      >T</em
	      > is one-letter or two-letter category name.
     See <code
	      ><a href="T.html#v:categoryLookup"
		>categoryLookup</a
		></code
	      >.</dd
	    ><dt
	    > C1 to C2 </dt
	    ><dd
	    >Characters betweeen C1 and C2.</dd
	    ></dl
	  ><dl
	  ><dt
	    > sp </dt
	    ><dd
	    >Unicode space character or space-like control character
     including tabs (HT/VT), newlines (CR/LF), or form feed (FF).
     See <code
	      ><a href="http://hackage.haskell.org/package/base/docs/Data-Char.html#v:isSpace"
		>isSpace</a
		></code
	      >.</dd
	    ><dt
	    > 012 </dt
	    ><dd
	    >Unicode number character.
     See <code
	      ><a href="T.html#v:categoryNumber"
		>categoryNumber</a
		></code
	      >.</dd
	    ><dt
	    > digit </dt
	    ><dd
	    >ASCII digits.
     See <code
	      ><a href="http://hackage.haskell.org/package/base/docs/Data-Char.html#v:isDigit"
		>isDigit</a
		></code
	      >.</dd
	    ><dt
	    > abc </dt
	    ><dd
	    >Unicode letter or mark character.
     See <code
	      ><a href="T.html#v:categoryLetter"
		>categoryLetter</a
		></code
	      > or <code
	      ><a href="T.html#v:categoryMark"
		>categoryMark</a
		></code
	      >.</dd
	    ><dt
	    > +- </dt
	    ><dd
	    >Unicode punctuation or symbol character.
     See <code
	      ><a href="T.html#v:categoryPunctuation"
		>categoryPunctuation</a
		></code
	      > or <code
	      ><a href="T.html#v:categorySymbol"
		>categorySymbol</a
		></code
	      >.</dd
	    ><dt
	    > open </dt
	    ><dd
	    >Open punctuations.
     See <code
	      ><a href="T.html#v:categoryOpen"
		>categoryOpen</a
		></code
	      >.</dd
	    ><dt
	    > close </dt
	    ><dd
	    >Close punctuations.
     See <code
	      ><a href="T.html#v:categoryClose"
		>categoryClose</a
		></code
	      >.</dd
	    ><dt
	    > ascii </dt
	    ><dd
	    >ASCII characters.
     See <code
	      ><a href="http://hackage.haskell.org/package/base/docs/Data-Char.html#v:isAscii"
		>isAscii</a
		></code
	      >.</dd
	    ><dt
	    > latin-1 </dt
	    ><dd
	    >ISO 8859-1 (Latin-1) characters.
     See <code
	      ><a href="http://hackage.haskell.org/package/base/docs/Data-Char.html#v:isLatin1"
		>isLatin1</a
		></code
	      >.</dd
	    ><dt
	    > koshu-symbol </dt
	    ><dd
	    >Symbol character in Koshucode.</dd
	    ><dt
	    > koshu-general </dt
	    ><dd
	    >General character in Koshucode.</dd
	    ><dt
	    > koshu-plain </dt
	    ><dd
	    >Plain character in Koshucode.</dd
	    ><dt
	    > koshu-numeric </dt
	    ><dd
	    >Numeric character in Koshucode.</dd
	    ></dl
	  ><h2
	  >Combination</h2
	  ><dl
	  ><dt
	    > E1 | E2 </dt
	    ><dd
	    >Alternative occurence of <em
	      >E1</em
	      > or <em
	      >E2</em
	      >.</dd
	    ><dt
	    > E1 ++ E2 </dt
	    ><dd
	    >Sequence of <em
	      >E1</em
	      > followed by <em
	      >E2</em
	      >.</dd
	    ><dt
	    > E1 or E2 </dt
	    ><dd
	    >Alternative occurence of <em
	      >E1</em
	      > or <em
	      >E2</em
	      >.</dd
	    ><dt
	    > E1 and E2 </dt
	    ><dd
	    ><em
	      >E1</em
	      > and additional condition <em
	      >E2</em
	      >.</dd
	    ><dt
	    > not E </dt
	    ><dd
	    >Inverted condition.</dd
	    ><dt
	    > last E </dt
	    ><dd
	    >Find last <em
	      >E</em
	      >.</dd
	    ><dt
	    > before E </dt
	    ><dd
	    >Sequence of not <em
	      >E</em
	      >.</dd
	    ><dt
	    > stay E </dt
	    ><dd
	    >Match <em
	      >E</em
	      > but input position is not changed.</dd
	    ></dl
	  ><h2
	  >Repetition</h2
	  ><dl
	  ><dt
	    > { E } </dt
	    ><dd
	    >Zero-or-more occurences of <em
	      >E</em
	      >. (Zero-repeat)</dd
	    ><dt
	    > { E } ( N ) </dt
	    ><dd
	    ><em
	      >N</em
	      >-times occurences of <em
	      >E</em
	      >.</dd
	    ><dt
	    > { E } ( L to ) </dt
	    ><dd
	    >Repetition of <em
	      >E</em
	      > with lower bound <em
	      >L</em
	      >.</dd
	    ><dt
	    > { E } ( to U ) </dt
	    ><dd
	    >Repetition of <em
	      >E</em
	      > with upper bound <em
	      >U</em
	      >.</dd
	    ><dt
	    > { E } ( L to U ) </dt
	    ><dd
	    >Repetition of <em
	      >E</em
	      > with lower bound <em
	      >L</em
	      > and upper bound <em
	      >U</em
	      >.</dd
	    ><dt
	    > [ E ] </dt
	    ><dd
	    >Zero-or-one occurences of <em
	      >E</em
	      >. (Option)</dd
	    ><dt
	    > {- E -} </dt
	    ><dd
	    >One-or-more occurences of <em
	      >E</em
	      >. (One-repeat)</dd
	    ><dt
	    > E1 sep E2 </dt
	    ><dd
	    ><em
	      >E1</em
	      >-separated <em
	      >E2</em
	      >. (Zero-repeat)</dd
	    ></dl
	  ><h2
	  >Modification</h2
	  ><dl
	  ><dt
	    > E as T </dt
	    ><dd
	    >Replace to text <em
	      >T</em
	      > when <em
	      >E</em
	      > is matched.</dd
	    ><dt
	    > E as wrap T1 T2 </dt
	    ><dd
	    >Wrap matched text in <em
	      >T1</em
	      > and <em
	      >T2</em
	      >.</dd
	    ><dt
	    > E as prepend T </dt
	    ><dd
	    >Prepend <em
	      >T</em
	      > to matched text.</dd
	    ><dt
	    > E as append T </dt
	    ><dd
	    >Append <em
	      >T</em
	      > to matched text.</dd
	    ><dt
	    > E as lower </dt
	    ><dd
	    >Convert text to lower case when <em
	      >E</em
	      > is matched.</dd
	    ><dt
	    > E as upper </dt
	    ><dd
	    >Convert text to upper case when <em
	      >E</em
	      > is matched.</dd
	    ></dl
	  ></div
	></div
      ></div
    ><div id="footer"
    ><p
      >Produced by <a href="http://www.haskell.org/haddock/"
	>Haddock</a
	> version 2.16.1</p
      ></div
    ></body
  ></html
>
